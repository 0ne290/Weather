public class ExternalApiFactory
{
    public static ExternalApi FactoryMethod(Uri rootUrl, IDictionary<string, string> headers, IHttpClientFactory httpClientFactory)
    {
        httpClient = httpClientFactory.CreateClient();

        httpClient.BaseAddress = rootUrl;

        foreach (var header in headers)
            _httpClient.DefaultRequestHeaders.Add(header.Key, header.Value);

        return new ExternalApi(httpClient);
    }
}
